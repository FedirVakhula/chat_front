<div class="container-task">
  <div class="task-title" >
    <div class="task-name">
      <textarea [disabled]="show" #item>{{task.name}}</textarea>
      <span>{{ task.comments.length }}</span>
    </div>
    <div class="like">
      <span>{{task.like}}</span>
      <i class="material-icons" (click)="onLike()">
        thumb_up
      </i>
      <i class="material-icons" (click)="onDislike()">
        thumb_down
      </i>
      <span>{{task.dislike}}</span>
      <span *ngIf="task.author">
        author:{{task.author}}
      </span>
      <span>Date:{{task.date | date:"dd/MM/yy"}}</span>
    </div>
  </div>
  <div class="task-delete">
    <div>
      <div *ngIf="show">
        <button (click)="editTask()">Edit</button>
      </div>
      <div *ngIf="!show">
        <button (click)="onSave(item.value)">Save</button>
      </div>
    </div>
    <div *ngIf="task.author">
      <button (click)="deleteTask()">Delete</button>
    </div>
    <div>
      <button (click)="addComments()" *ngIf="!showInput">add comments</button>
      <div *ngIf="showInput">
        
        <input type="text" #inputComments>
      </div>
      <button (click)="saveComments()" *ngIf="showInput">save
        comments</button>
    </div>
  </div>
  <div class="next-comments" *ngIf="task.comments.length">
    <div *ngFor="let itemTask of task.comments">
      <app-task 
        [parentId]="parentId"
        [task]="itemTask"></app-task>
    </div>
  </div>
</div>